@inject IViewLocalizer Localizer
@model Aiursoft.MusicTools.Models.HomeViewModels.MetronomeViewModel

<div class="container mt-5">
    <div class="card shadow-sm" style="max-width: 800px; margin: 0 auto;">
        <div class="card-body text-center p-5">
            <h1 class="mb-4">@Localizer[Model.PageTitle ?? string.Empty]</h1>
            
            <div class="mb-4">
                <div id="bpm-display" class="display-1 fw-bold text-primary">90</div>
                <div class="text-muted fs-4">@Localizer["BPM"]</div>
            </div>

            <div class="mb-5 px-md-5">
                <input type="range" class="form-range" id="bpm-slider" min="0" max="100" step="0.1" value="50" style="height: 2rem;">
                <div class="d-flex justify-content-between text-muted small mt-2">
                    <span>@Localizer["Slow (1)"]</span>
                    <span>@Localizer["Normal (90)"]</span>
                    <span>@Localizer["Fast (320)"]</span>
                </div>
            </div>

            <div class="row justify-content-center mb-5">
                <div class="col-md-5 mb-3">
                    <label for="time-signature" class="form-label fw-bold">@Localizer["Time Signature"]</label>
                    <select id="time-signature" class="form-select form-select-lg text-center">
                        <option value="1/4">1/4</option>
                        <option value="2/4">2/4</option>
                        <option value="3/4">3/4</option>
                        <option value="4/4" selected>4/4</option>
                        <option value="5/4">5/4</option>
                        <option value="6/4">6/4</option>
                        <option value="3/8">3/8</option>
                        <option value="5/8">5/8</option>
                        <option value="6/8">6/8</option>
                        <option value="7/8">7/8</option>
                        <option value="9/8">9/8</option>
                        <option value="12/8">12/8</option>
                    </select>
                </div>
                <div class="col-md-5 mb-3">
                    <label for="subdivision" class="form-label fw-bold">@Localizer["Subdivision"]</label>
                    <select id="subdivision" class="form-select form-select-lg text-center">
                        <option value="1" selected>@Localizer["Quarter Note (♩)"]</option>
                        <option value="2">@Localizer["Eighth Note (♫)"]</option>
                        <option value="3">@Localizer["Triplet (3)"]</option>
                        <option value="4">@Localizer["Sixteenth Note (♬)"]</option>
                    </select>
                </div>
            </div>

            <button id="start-stop-btn" 
                    class="btn btn-primary btn-lg px-5 py-3 rounded-pill shadow transition-all"
                    data-text-start="@Localizer["Start"]"
                    data-text-stop="@Localizer["Stop"]">
                <span id="btn-icon">▶</span> <span id="btn-text">@Localizer["Start"]</span>
            </button>
            
            <div class="mt-5 d-flex justify-content-center gap-3" id="visual-beats" style="min-height: 20px;">
                <!-- Dots will be generated here -->
            </div>
        </div>
    </div>
</div>
@* ReSharper disable once Razor.SectionNotResolved *@

@section Styles {
    <link rel="stylesheet" href="~/styles/metronome.css" />
}
@* ReSharper disable once Razor.SectionNotResolved *@

@section Scripts {
    <script src="~/scripts/metronome.js"></script>
}
